<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Flatland</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)"> 
<!-- html --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
</head><body 
>
   <div class="maketitle">
                                                                     

                                                                     
                                                                     

                                                                     

<h2 class="titleHead">Flatland</h2>
<div class="author" ><span 
class="cmr-12">Murphy</span></div><br />
<div class="date" ><span 
class="cmr-12">October 20, 2023</span></div>
   </div>
                                                                     

                                                                     
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   &#x00A0;<span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Introduction</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.1 <a 
href="#x1-30001.1" id="QQ2-1-3">Problem Background</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >1.2 <a 
href="#x1-40001.2" id="QQ2-1-4">Related Works</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >1.2.1 <a 
href="#x1-50001.2.1" id="QQ2-1-5">Multi-agent Pathfinding</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >1.2.2 <a 
href="#x1-60001.2.2" id="QQ2-1-7">Vehicle Scheduling Problem</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >1.2.3 <a 
href="#x1-70001.2.3" id="QQ2-1-8">Vehicle Rescheduling Problem</a></span>
<br />   &#x00A0;<span class="sectionToc" >2 <a 
href="#x1-80002" id="QQ2-1-9">Approaches</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.1 <a 
href="#x1-90002.1" id="QQ2-1-10">Reinforcement Learning</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.2 <a 
href="#x1-100002.2" id="QQ2-1-11">Operations Research</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.3 <a 
href="#x1-110002.3" id="QQ2-1-12">Answer Set Programming</a></span>
<br />   &#x00A0;<span class="sectionToc" >3 <a 
href="#x1-120003" id="QQ2-1-13">Building Blocks</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.1 <a 
href="#x1-130003.1" id="QQ2-1-14">Environment</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >3.1.1 <a 
href="#x1-140003.1.1" id="QQ2-1-15">Track Types and Transitions</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >3.1.2 <a 
href="#x1-150003.1.2" id="QQ2-1-18">Points of Interest</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.2 <a 
href="#x1-160003.2" id="QQ2-1-19">Agents</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >3.2.1 <a 
href="#x1-170003.2.1" id="QQ2-1-20">Actions</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >3.2.2 <a 
href="#x1-180003.2.2" id="QQ2-1-22">Starting and Ending Positions</a></span>
<br />   &#x00A0;&#x00A0;&#x00A0;<span class="subsubsectionToc" >3.2.3 <a 
href="#x1-190003.2.3" id="QQ2-1-23">Conflict Restrictions</a></span>
   </div>
                                                                     

                                                                     
<!--l. 42--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a>Introduction</h3>
<!--l. 43--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.1   </span> <a 
 id="x1-30001.1"></a>Problem Background</h4>
<!--l. 44--><p class="noindent" >The Flatland framework seeks to address the problem of automated train
scheduling and rescheduling, a major challenge for modern railway systems. It
does so by providing a simplified two-dimensional grid world environment to
allow for fast experimentation of new approaches to this problem <a 
href="#Xmonylascscbhwaegeibavistsasp20a">Mohanty
et&#x00A0;al.</a>&#x00A0;(<a 
href="#Xmonylascscbhwaegeibavistsasp20a">2020</a>).
<!--l. 47--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">1.2   </span> <a 
 id="x1-40001.2"></a>Related Works</h4>
<!--l. 48--><p class="noindent" >Scenarios in Flatland exist at the intersection of several well-explored
problems. At its core, Flatland is a multi-agent pathfinding problem; several
agents cooperate to complete their goals while managing limited resources
within a shared, finite environment. Outside of pathfinding, Flatland
is, in essence, a vehicle rescheduling problem&#8212;derived from the vehicle
scheduling problem. An understanding of how each of these problems
influences Flatland is a critical piece of finding ideal methods of producing
solutions.
<!--l. 50--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">1.2.1   </span> <a 
 id="x1-50001.2.1"></a>Multi-agent Pathfinding</h5>
<!--l. 51--><p class="noindent" >Multi-agent pathfinding (MAPF) is a planning problem in which agents in a
shared environment must find routes to their respective destinations
without incurring collisions (<a 
href="#Xsilver05a">Silver</a>,&#x00A0;<a 
href="#Xsilver05a">2005</a>). MAPF has many applications,
including in robotics, aviation, and vehicle routing (<a 
href="#Xstandley10a">Standley</a>,&#x00A0;<a 
href="#Xstandley10a">2010</a>). Many of
the conflicts imposed on agents in MAPF problems are also imposed
on agents within the Flatland framework, such as that they may not
occupy the same cell at the same time step, or that two agents may not
swap positions. These are to model collisions that would occur in real
life.
                                                                     

                                                                     
<!--l. 53--><p class="indent" >   Traditional grid environments seen in many MAPF problems, including in
(<a 
href="#Xstandley10a">Standley</a>,&#x00A0;<a 
href="#Xstandley10a">2010</a>), have cells that are often four- or eight-connected; this means
that an agent occupying one cell may move to any of its existing unoccupied
neighboring cells. The Flatland framework is more restrictive in this sense, as
agents are not free to move indiscriminately to any unoccupied neighboring cell,
but rather may move to neighboring cells according to transitions governed by
the track type of that cell and the orientation of the agent at that time step, all
of which is further discussed in Section <a 
href="#x1-130003.1">3.1<!--tex4ht:ref: sec:Environment --></a> and is illustrated more clearly in
Figure <a 
href="#x1-50011">1<!--tex4ht:ref: fig:grids --></a>.
<!--l. 56--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                     

                                                                     
<a 
 id="x1-50011"></a>
                                                                     

                                                                     
<!--l. 58--><p class="noindent" ><img 
src="./img//grids.png" alt="PIC"  
width="360" height="360" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;1: </span><span  
class="content">Examples of the degrees of freedom for agents in four-connected
grid environments, eight-connected grid environments, and Flatland grid
environments.  The  orientation  of  the  agent  in  Flatland  is  necessary  to
determine which cells are accessible. </span></div><!--tex4ht:label?: x1-50011 -->
<div class="center" 
>
<!--l. 62--><p class="noindent" >
<!--l. 63--><p class="noindent" >_____________________________________________________________________</div>
                                                                     

                                                                     
<!--l. 66--><p class="indent" >   </div><hr class="endfigure">
   <h5 class="subsubsectionHead"><span class="titlemark">1.2.2   </span> <a 
 id="x1-60001.2.2"></a>Vehicle Scheduling Problem</h5>
<!--l. 69--><p class="noindent" >The vehicle scheduling problem (VSP) is a classical optimization problem in the
field of operational planning of public transportation systems, consisting of
assigning vehicles to trips, in such a way that each trip is associated to one
vehicle and a cost function is minimized (<a 
href="#Xbapeukfa00a">Baita et&#x00A0;al.</a>,&#x00A0;<a 
href="#Xbapeukfa00a">2000</a>). This problem has
been a topic of operational research for decades, but is not the primary focus of
Flatland, as each instance already provides a set of agents with pairs of starting
and ending positions. Since the agents come pre-assigned to the origin and
destination, the importance is shifted from assigning vehicles to trips to actively
determining their paths. However, since Flatland randomly inflicts breakdowns
upon its fleet, the task effectively transforms into a vehicle rescheduling
problem.
<!--l. 71--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">1.2.3   </span> <a 
 id="x1-70001.2.3"></a>Vehicle Rescheduling Problem</h5>
<!--l. 72--><p class="noindent" >The vehicle rescheduling problem (VRSP) is an extension of the VSP and arises
when a previously-scheduled trip is disrupted due to interruptions such as a
medical emergency or a vehicle breakdown (<a 
href="#Xlimibo07a">Li et&#x00A0;al.</a>,&#x00A0;<a 
href="#Xlimibo07a">2007</a>). Trips in the
Flatland environment model this scenario by randomly assigning vehicle
breakdowns, each of which stops a train in its current location for an unforeseen
duration. Ideally, scheduled trips that are affected by a breakdown should be
rescheduled in such a way that there are minimal impacts to the original plan.
(<a 
href="#Xlimibo07a">Li et&#x00A0;al.</a>,&#x00A0;<a 
href="#Xlimibo07a">2007</a>) note the severity of this problem, in that it results not only in
direct operational and delay costs for transit providers, but also in inconvenience
for passengers. The lack of automated rescheduling policies, as well as algorithms
that address this problem, highlights the importance of the role that Flatland
plays in focusing its scenarios on the element of rescheduling disrupted
trips.
<!--l. 76--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-80002"></a>Approaches</h3>
<!--l. 77--><p class="noindent" >AIcrowd hosts a global competition in which participants submit crafted
approaches to scenarios in the Flatland environment, which are scored and
compared against one another. The variety of submissions highlights
                                                                     

                                                                     
the diverse nature of approaches taken to solve the problem Flatland
presents.
<!--l. 79--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1   </span> <a 
 id="x1-90002.1"></a>Reinforcement Learning</h4>
<!--l. 80--><p class="noindent" >Reinforcement learning is a form of machine learning in which an agent with a
goal is not told what steps to take, but rather discovers a path to it by
determining which actions yield the greatest reward (<a 
href="#Xsutton18a">Sutton and Barto</a>,&#x00A0;<a 
href="#Xsutton18a">2018</a>).
This differs from <span 
class="cmti-10x-x-109">supervised learning </span>in which agents are shown a set of
labeled examples of desired outcomes so that it can generalize for unseen
situations. This also differs from <span 
class="cmti-10x-x-109">unsupervised learning </span>in which agents seek to
uncover structures or patterns within a set of unlabeled examples. A
typical reinforcement learning approach in a Flatland scenario would
include many iterations of agents relying on past actions that have yielded
success and exploring new actions that aim to get them closer to the
goal.
<!--l. 82--><p class="indent" >   Although the competition is open to approaches from any domain, it has
branded itself as a competition for multi-agent reinforcement learning. In the
latest two iterations of the competition, separate leaderboards were posted for
those pursuing the reinforcement learning track and those pursuing all other
approaches. Despite this focus, the highest any participant has placed with a
reinforcement learning solution has been seventh place.
<!--l. 84--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.2   </span> <a 
 id="x1-100002.2"></a>Operations Research</h4>
<!--l. 85--><p class="noindent" >Operations research is a broader field pertaining to the application of scientific
methods to problems involving the operations of a system, such as by using the
theories of probability, linear programming, queuing theory, or other methods
(<a 
href="#Xgupta92a">Gupta</a>,&#x00A0;<a 
href="#Xgupta92a">1992</a>). The winners of the 2020 iteration of the competition were a team
led by professors Daniel Harabor and Peter J. Stuckey of Monash University. The
team employed a prioritized planning approach to quickly find collision-free
paths, and a large neighborhood search (LNS) to improve the solution quality
thereafter (<a 
href="#Xlichzhchhastmako21a">Li et&#x00A0;al.</a>,&#x00A0;<a 
href="#Xlichzhchhastmako21a">2021</a>).
<!--l. 87--><p class="indent" >   In each the latest two competitions, teams with operations research-focused
approaches have taken the top four spots. The winning team members
from 2020 explain in (<a 
href="#Xlichzhchhastmako21a">Li et&#x00A0;al.</a>,&#x00A0;<a 
href="#Xlichzhchhastmako21a">2021</a>) why they believe reinforcement
learning approaches have not produced the same level of success as other
                                                                     

                                                                     
methods:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 89--><p class="noindent" >reinforcement learning approaches need to predict future deadlocks,
     which appears difficult to determine without directly reasoning about
     paths, as optimization approaches do
     </li>
     <li class="itemize">
     <!--l. 90--><p class="noindent" >as the density of an environment grows, the number of situations that
     can lead to deadlocks increases non-linearly
     </li>
     <li class="itemize">
     <!--l. 91--><p class="noindent" >optimization  approaches  rely  on  global  planners,  which  have  been
     shown to consistently outperform reinforcement learning approaches
     across all rounds of both the 2019 and 2020 Flatland competitions</li></ul>
<!--l. 95--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.3   </span> <a 
 id="x1-110002.3"></a>Answer Set Programming</h4>
<!--l. 96--><p class="noindent" >Answer set programming (ASP) is a form of declarative programming, based on
the stable model semantics of logic programming, oriented toward difficult search
problems (<a 
href="#Xlifschitz19a">Lifschitz</a>,&#x00A0;<a 
href="#Xlifschitz19a">2019</a>). ASP has wide-ranging applications in technology and
science, with a particular inclination toward NP-hard<span class="footnote-mark"><a 
href="main2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span>problems.
<!--l. 98--><p class="indent" >   <a 
 id="x1-11001f1"></a>
<!--l. 100--><p class="indent" >   The pathfinding problem that is present in Flatland scenarios is, at its
core, an NP-hard search problem. ASP presents itself as a particularly
suitable approach to solving pathfinding problems in Flatland for several
reasons:
     <ul class="itemize1">
     <li class="itemize">
                                                                     

                                                                     
     <!--l. 102--><p class="noindent" >as a declarative language, encodings are constructed in terms of their
     goals, not their intermediate steps
     </li>
     <li class="itemize">
     <!--l. 103--><p class="noindent" >solutions are clearly characterized by their formalization, and one can
     clearly see the correspondence of the solution to the encoding
     </li>
     <li class="itemize">
     <!--l. 104--><p class="noindent" >encodings can be easily adapted to changing conditions, such as by
     adding more agents or including additional constraints</li></ul>
<!--l. 107--><p class="noindent" >Generally, the flexibility, maintainability, human readability, and verifiability of
ASP lends itself well to scalable pathfinding problems.
<!--l. 109--><p class="indent" >   [Concerns or drawbacks about traditional machine learning methods
compared to ASP]
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-120003"></a>Building Blocks</h3>
<!--l. 113--><p class="noindent" >Flatland comprises a set of components that are fundamental to its ability to
simulate real-world railway scenarios. In the forefront are the environment and
the agents, which form the basis of modeling how trains traverse a physical
network.
<!--l. 115--><p class="indent" >   Further components include the scope of observation, the presence of
breakdowns, and pre-determined timetables. However, these are not considered
within the scope of this research.
<!--l. 117--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.1   </span> <a 
 id="x1-130003.1"></a>Environment</h4>
<!--l. 119--><p class="noindent" >An environment in Flatland is a grid that consists of cells that are either
empty or contain tracks. A track may belong to one of nine types, and
may be rotated in increments of 90<span 
class="tcrm-1095">º</span>. Cells must be arranged in such a
way that they form a cohesive network, even if the resulting network is
simplistic. Each cell may only be occupied by a single agent at any given time
step.
                                                                     

                                                                     
<!--l. 121--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">3.1.1   </span> <a 
 id="x1-140003.1.1"></a>Track Types and Transitions</h5>
<!--l. 123--><p class="noindent" >Flatland documentation considers seven track types, however, two of them have
alternative representations that this paper recognizes as individual types,
bringing the total to nine. There is also a separate designation for an empty
cell. A visual representation of the track types can be seen in Figure
<a 
href="#x1-140012">2<!--tex4ht:ref: fig:tracks --></a>.
<!--l. 126--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                     

                                                                     
<a 
 id="x1-140012"></a>
                                                                     

                                                                     
<!--l. 128--><p class="noindent" ><img 
src="./img//tracks.png" alt="PIC"  
width="360" height="360" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;2: </span><span  
class="content">Visual representation of all available track types. Each type may
be rotated in increments of 90<span 
class="tcrm-1095">º</span>. Type 8 and type 9 are variations on type 1
and type 2, respectively, which cannot be attained through rotation, alone.</span></div><!--tex4ht:label?: x1-140012 -->
<div class="center" 
>
<!--l. 132--><p class="noindent" >
<!--l. 133--><p class="noindent" >_____________________________________________________________________</div>
                                                                     

                                                                     
<!--l. 136--><p class="indent" >   </div><hr class="endfigure">
<!--l. 138--><p class="indent" >   The various rail types can be grouped into two categories: non-switches and
switches. Non-switches include tracks such as straight tracks, curved tracks, and
dead ends. These do not allow an agent to change the course of its path.
Conversely, switches represent decision points, as they compel agents to make a
choice. A switch will never present more than two options.
<!--l. 140--><p class="indent" >   Each rail type determines the possible transitions for the agents, meaning
which neighboring cells are accessible positions following a single move.
Crucially, neighboring cells that are accessible from one location, may in
some cases not be accessible had the train approached this same location
from another direction. This is a fundamental underlying quality of the
Flatland environment. For this reason, recording both the position and
orientation of each agents at every time step is necessary for determining
its legal paths. A diagram explaining this quality is shown in Figure
<a 
href="#x1-140023">3<!--tex4ht:ref: fig:transitions --></a>.
<!--l. 143--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                     

                                                                     
<a 
 id="x1-140023"></a>
                                                                     

                                                                     
<!--l. 145--><p class="noindent" ><img 
src="./img//transitions.png" alt="PIC"  
width="216" height="216" >
<br /> <div class="caption" 
><span class="id">Figure&#x00A0;3: </span><span  
class="content">The switch on cell <span 
class="cmtt-10x-x-109">(1,1) </span>is only accessible from one side. In
environment (a), the agent is facing east on cell <span 
class="cmtt-10x-x-109">(0,1)</span>. When it reaches cell
<span 
class="cmtt-10x-x-109">(1,1)</span>, it will have the option to continue to the east or follow the switch
to the north. In environment (b), the agent is facing west on cell <span 
class="cmtt-10x-x-109">(2,1) </span>and
does not have access to the switch. Therefore, when it reaches cell <span 
class="cmtt-10x-x-109">(1,1)</span>, it
will only have the option to continue moving west.</span></div><!--tex4ht:label?: x1-140023 -->
<div class="center" 
>
<!--l. 148--><p class="noindent" >
<!--l. 149--><p class="noindent" >_____________________________________________________________________</div>
                                                                     

                                                                     
<!--l. 153--><p class="indent" >   </div><hr class="endfigure">
   <h5 class="subsubsectionHead"><span class="titlemark">3.1.2   </span> <a 
 id="x1-150003.1.2"></a>Points of Interest</h5>
<!--l. 158--><p class="noindent" >The Flatland framework offers several parameters when generating novel
environments. Namely, the <span 
class="colorbox" id="colorbox1"><span 
class="cmtt-10x-x-109">sparse</span><span 
class="cmtt-10x-x-109">_rail</span><span 
class="cmtt-10x-x-109">_generator</span></span> allows users to specify:
     <ul class="itemize1">
     <li class="itemize">
     <!--l. 160--><p class="noindent" >the number of cities
     </li>
     <li class="itemize">
     <!--l. 161--><p class="noindent" >the number of intersections
     </li>
     <li class="itemize">
     <!--l. 162--><p class="noindent" >the number of train stations
     </li>
     <li class="itemize">
     <!--l. 163--><p class="noindent" >the minimal distance between nodes
     </li>
     <li class="itemize">
     <!--l. 164--><p class="noindent" >the proximity of stations to their associated cities
     </li>
     <li class="itemize">
     <!--l. 165--><p class="noindent" >the number of connections between cities</li></ul>
<!--l. 168--><p class="noindent" >From the perspective of the trains, cities play no functional role; they are purely
esthetic. Train stations, however, play a crucial role, as the journey of any train
may only begin and end at designated train stations. The remaining parameters
offer flexibility in defining the degree of connectedness and overall character of
the track layout.
                                                                     

                                                                     
<!--l. 171--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.2   </span> <a 
 id="x1-160003.2"></a>Agents</h4>
<!--l. 173--><p class="noindent" >Agents in Flatland represent the trains of a railway network. They can choose
from a set of actions, are given starting locations and specified destinations, must
avoid collisions and other conflicts with agents present throughout the
environment, and have various speed profiles. The terms <span 
class="cmti-10x-x-109">agent </span>and <span 
class="cmti-10x-x-109">train </span>are used
interchangeably.
<!--l. 175--><p class="indent" >   Additionally, agents in Flatland may have different speeds, depending on
their train types, such as passenger trains or freight trains. This speed profile
determines how quickly agents are capable of traversing the environment, and
ultimately influences how they interact with one another. The scope of this
research recognizes only a uniform speed profile and does not distinguish between
train types. Trains in motion are capable of traversing the environment at a rate
of one cell per time step.
<!--l. 177--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">3.2.1   </span> <a 
 id="x1-170003.2.1"></a>Actions</h5>
<!--l. 179--><p class="noindent" >Within the environment, agents follow a series of actions. Since Flatland is a
discrete time simulation, the duration of each action conforms to a constant
amount of time. At each time step, agents must choose from one of the following
five actions:
     <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-17002x1">
     <!--l. 181--><p class="noindent" ><span 
class="colorbox" id="colorbox2"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_FORWARD</span></span>: this action moves the train forward, provided there is
     a legal transition that allows this; this is also the appropriate action
     along curved track with no switch
     </li>
<li 
  class="enumerate" id="x1-17004x2">
     <!--l. 182--><p class="noindent" ><span 
class="colorbox" id="colorbox3"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_LEFT</span></span>: this action moves the train along a switch to the left,
     provided there is a legal transition that allows this
     </li>
<li 
  class="enumerate" id="x1-17006x3">
                                                                     

                                                                     
     <!--l. 183--><p class="noindent" ><span 
class="colorbox" id="colorbox4"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_RIGHT</span></span>: this action moves the train along a switch to the right,
     provided there is a legal transition that allows this
     </li>
<li 
  class="enumerate" id="x1-17008x4">
     <!--l. 184--><p class="noindent" ><span 
class="colorbox" id="colorbox5"><span 
class="cmtt-10x-x-109">STOP</span><span 
class="cmtt-10x-x-109">_MOVING</span></span>: this action stops the train, resulting in its remaining in
     the current cell
     </li>
<li 
  class="enumerate" id="x1-17010x5">
     <!--l. 185--><p class="noindent" ><span 
class="colorbox" id="colorbox6"><span 
class="cmtt-10x-x-109">DO</span><span 
class="cmtt-10x-x-109">_NOTHING</span></span>: this action compels the train to adhere to a continuation
     of its previous action; the one exception is that while stopped in a
     dead end, this reverses the direction of the train</li></ol>
<!--l. 188--><p class="noindent" >So long as a valid action has been selected, the position and orientation of the
agent will be updated in the following time step.
   <div class="table">
                                                                     

                                                                     
<!--l. 195--><p class="indent" >   <a 
 id="x1-170111"></a><hr class="float"><div class="float" 
>
                                                                     

                                                                     
<div class="tabular"> <table id="TBL-2" class="tabular" 
 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1"><col 
id="TBL-2-2"><col 
id="TBL-2-3"><col 
id="TBL-2-4"><col 
id="TBL-2-5"></colgroup><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:nowrap; text-align:right;" id="TBL-2-1-1"  
class="td11">           </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-2"  
class="td11">                               -90<span 
class="tcrm-1095">º                                                </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-3"  
class="td11">                               0<span 
class="tcrm-1095">º                                                  </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-4"  
class="td11">                               90<span 
class="tcrm-1095">º                                                 </span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-1-5"  
class="td11">                              180<span 
class="tcrm-1095">º                                                </span></td></tr><tr 
class="hline"><td><hr></td><td><hr></td><td><hr></td><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:nowrap; text-align:right;" id="TBL-2-2-1"  
class="td11"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_FORWARD</span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-2"  
class="td11"><img 
src="main0x.svg" alt=" " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-3"  
class="td11"><img 
src="main1x.svg" alt=" " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-4"  
class="td11"><img 
src="main2x.svg" alt=" " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-2-5"  
class="td11"></td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:right;" id="TBL-2-3-1"  
class="td11">   <span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_LEFT</span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-2"  
class="td11"><img 
src="main3x.svg" alt="  " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-3"  
class="td11">                                                                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-4"  
class="td11">                                                                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-3-5"  
class="td11">                                                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:nowrap; text-align:right;" id="TBL-2-4-1"  
class="td11">  <span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_RIGHT</span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-2"  
class="td11">                                                                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-3"  
class="td11">                                                                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-4"  
class="td11"><img 
src="main4x.svg" alt="  " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-4-5"  
class="td11">                                                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:nowrap; text-align:right;" id="TBL-2-5-1"  
class="td11"> <span 
class="cmtt-10x-x-109">STOP</span><span 
class="cmtt-10x-x-109">_MOVING</span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-2"  
class="td11">                                                                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-3"  
class="td11"><img 
src="main5x.svg" alt="  " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-4"  
class="td11">                                                                </td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-5-5"  
class="td11">                                                                </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:nowrap; text-align:right;" id="TBL-2-6-1"  
class="td11">  <span 
class="cmtt-10x-x-109">DO</span><span 
class="cmtt-10x-x-109">_NOTHING</span></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-2"  
class="td11"><img 
src="main6x.svg" alt="  " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-3"  
class="td11"><img 
src="main7x.svg" alt="  " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-4"  
class="td11"><img 
src="main8x.svg" alt="  " ></td><td  style="white-space:nowrap; text-align:center;" id="TBL-2-6-5"  
class="td11"><img 
src="main9x.svg" alt="  " ></td></tr></table></div>
<br /> <div class="caption" 
><span class="id">Table&#x00A0;1: </span><span  
class="content">How each action can change the orientation of an agent in the
following time step. A change of 0<span 
class="tcrm-1095">º </span>is analogous to no change.</span></div><!--tex4ht:label?: x1-170111 -->
                                                                     

                                                                     
   </div><hr class="endfloat" />
   </div>
<!--l. 212--><p class="indent" >   As shown in Table <a 
href="#x1-170111">1<!--tex4ht:ref: tbl:actions --></a>, different actions are capable of affecting subsequent
agent orientation in various ways. The typical effect that <span 
class="colorbox" id="colorbox7"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_FORWARD</span></span> imposes
is no change on the agent orientation in the following time step. The exception to
this is on curved track (Type 9 in Figure <a 
href="#x1-140012">2<!--tex4ht:ref: fig:tracks --></a>) which can rotate the agent by 90<span 
class="tcrm-1095">º</span>
counterclockwise or clockwise, depending on the direction of the curve.
<span 
class="colorbox" id="colorbox8"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_LEFT</span></span> and <span 
class="colorbox" id="colorbox9"><span 
class="cmtt-10x-x-109">MOVE</span><span 
class="cmtt-10x-x-109">_RIGHT</span></span> will always alter the current orientation of the agent
by 90<span 
class="tcrm-1095">º </span>counterclockwise or clockwise, respectively. As the <span 
class="colorbox" id="colorbox10"><span 
class="cmtt-10x-x-109">DO</span><span 
class="cmtt-10x-x-109">_NOTHING</span></span> command
repeats the previously-invoked action, the change in orientation would
typically mimic the change of the previous action. The notable exception to
this is when the agent is in a stopped position in a dead end (Type 7 in
Figure <a 
href="#x1-140012">2<!--tex4ht:ref: fig:tracks --></a>), in which case it will reverse its direction, altering the current
orientation by 180<span 
class="tcrm-1095">º</span>. <span 
class="colorbox" id="colorbox11"><span 
class="cmtt-10x-x-109">STOP</span><span 
class="cmtt-10x-x-109">_MOVING</span></span> will never alter the current orientation of the
agent.
   <h5 class="subsubsectionHead"><span class="titlemark">3.2.2   </span> <a 
 id="x1-180003.2.2"></a>Starting and Ending Positions</h5>
<!--l. 216--><p class="noindent" >Each agent is given a starting position and orientation, as well as a destination.
The goal for a single agent is to traverse the environment by choosing valid
actions along legal paths that lead the agent from its starting position to its
destination.
<!--l. 218--><p class="indent" >   For simplicity, trains are not recognized by the environment until they are
actively underway. This prevents trains who have not yet begun their
journeys from occupying space on the tracks and preventing the passage of
other trains. Likewise, once a train reaches its destination, it is no longer
recognized as actively being present in the environment. The track space
therefore becomes free in the time step after the train has completed its
journey.
<!--l. 220--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">3.2.3   </span> <a 
 id="x1-190003.2.3"></a>Conflict Restrictions</h5>
<!--l. 222--><p class="noindent" >Consistent with core tenets of any MAPF problem, any two trains must avoid a
collision with each other. Agents, as with trains in real life, may not physically
pass through one another. This restriction prevents one train from overtaking a
stopped train on the same set of tracks; it also prevents two trains facing each
other from swapping positions.
                                                                     

                                                                     
<!--l. 1--><p class="noindent" >
   <h3 class="likesectionHead"><a 
 id="x1-20000"></a>References</h3>
<!--l. 1--><p class="noindent" >
  <div class="thebibliography">
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xbapeukfa00a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>F.&#x00A0;Baita,    R.&#x00A0;Pesenti,    W.&#x00A0;Ukovich,    and    D.&#x00A0;Favaretto.          A
  comparison    of    different    solution    approaches    to    the    vehicle
  scheduling  problem  in  a  practical  case.     <span 
class="cmti-10x-x-109">Computers  &amp;  Operations</span>
  <span 
class="cmti-10x-x-109">Research</span>,   27(13):1249&#8211;1269,   2000.         ISSN   0305-0548.         doi:
  https://doi.org/10.1016/S0305-0548(99)00073-8.         URL   
<a 
href="https://www.sciencedirect.com/science/article/pii/S0305054899000738" class="url" ><span 
class="cmtt-10x-x-109">https://www.sciencedirect.com/science/article/pii/S0305054899000738</span></a>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xgupta92a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>RK&#x00A0;Gupta. <span 
class="cmti-10x-x-109">Operations research</span>. Krishna Prakashan Media, 1992.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xlichzhchhastmako21a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Jiaoyang Li, Zhe Chen, Yi&#x00A0;Zheng, Shao-Hung Chan, Daniel Harabor,
  Peter&#x00A0;J. Stuckey, Hang Ma, and Sven Koenig.   Scalable rail planning
  and  replanning:  Winning  the  2020  flatland  challenge.   <span 
class="cmti-10x-x-109">Proceedings  of</span>
  <span 
class="cmti-10x-x-109">the  International  Conference  on  Automated  Planning  and  Scheduling</span>,
  31(1):477&#8211;485,  May  2021.   doi:  10.1609/icaps.v31i1.15994.   URL  
<a 
href="https://ojs.aaai.org/index.php/ICAPS/article/view/15994" class="url" ><span 
class="cmtt-10x-x-109">https://ojs.aaai.org/index.php/ICAPS/article/view/15994</span></a>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xlimibo07a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Jing-Quan  Li,  Pitu&#x00A0;B.  Mirchandani,  and  Denis  Borenstein.     The
  vehicle rescheduling problem: Model and algorithms.   <span 
class="cmti-10x-x-109">Networks</span>, 50(3):
  211&#8211;229, July 2007.  doi: https://doi.org/10.1002/net.20199.  URL 
<a 
href="https://onlinelibrary.wiley.com/doi/abs/10.1002/net.20199" class="url" ><span 
class="cmtt-10x-x-109">https://onlinelibrary.wiley.com/doi/abs/10.1002/net.20199</span></a>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xlifschitz19a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Vladimir Lifschitz. <span 
class="cmti-10x-x-109">Answer set programming</span>. Springer Heidelberg, 2019.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xmonylascscbhwaegeibavistsasp20a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Sharada  Mohanty,  Erik  Nygren,  Florian  Laurent,  Manuel  Schneider,
  Christian Scheller, Nilabha Bhattacharya, Jeremy Watson, Adrian Egli,
  Christian  Eichenberger,  Christian  Baumberger,  Gereon  Vienken,  Irene
                                                                     

                                                                     
  Sturm,  Guillaume  Sartoretti,  and  Giacomo  Spigler.     Flatland-rl  :
  Multi-agent reinforcement learning on trains, December 2020.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xsilver05a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>David  Silver.   Cooperative  pathfinding.   In  <span 
class="cmti-10x-x-109">Proceedings  of  the  aaai</span>
  <span 
class="cmti-10x-x-109">conference on artificial intelligence and interactive digital entertainment</span>,
  volume&#x00A0;1, pages 117&#8211;122, 2005.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xstandley10a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Trevor Standley.  Finding optimal solutions to cooperative pathfinding
  problems. <span 
class="cmti-10x-x-109">Proceedings of the AAAI Conference on Artificial Intelligence</span>,
  24(1):173&#8211;178,  Jul.  2010.    doi:  10.1609/aaai.v24i1.7564.    URL  
<a 
href="https://ojs.aaai.org/index.php/AAAI/article/view/7564" class="url" ><span 
class="cmtt-10x-x-109">https://ojs.aaai.org/index.php/AAAI/article/view/7564</span></a>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xsutton18a"></a><span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span>Richard&#x00A0;S Sutton and Andrew&#x00A0;G Barto.  <span 
class="cmti-10x-x-109">Reinforcement learning: An</span>
  <span 
class="cmti-10x-x-109">introduction</span>. MIT press, 2018.
</p>
  </div>
    
</body></html> 

                                                                     


